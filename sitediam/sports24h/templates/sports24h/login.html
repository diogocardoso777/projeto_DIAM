<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    {% block title %}
	<title>Login</title>
	{% endblock %}
    {% load static %}
    <link rel="stylesheet" type="text/css" href="{% static 'sports24h/styles.css' %}" />
</head>
<body>
{% block content %}
  <div class="post-detail">
    <h2>{{ post.title }}</h2>
    <p>Forum: {{ post.forum.name }}</p>
    <p>{{ post.text }}</p>
    <p>Created by: {{ post.owner.user.username }}</p>
  </div>
  <div class="add-comment">
    <button type="button" class="addToProfile" onclick="toggleCommentForm()">Add Comment</button>
  </div>
  <form method="post" action="{% url 'sports24h:add_comment' %}">
    {% csrf_token %}
    <div class="comment-form" id="comment-form">
      <input type="text" name="comment_text" placeholder="Enter your comment">
      <input type="hidden" name="post_id" value="{{ post.id }}">
      <button type="submit">Add Comment</button>
    </div>
  </form>
  <h3>Comments</h3>
  {% if comments %}
    {% for comment in comments %}
      <p>{{ comment.text }} - {{ comment.user }} - created_at - {{ comment.created_at }}</p>
    {% endfor %}
  {% else %}
    <p><strong>No comments yet.</strong></p>
  {% endif %}
{% endblock %}

<script>
  function toggleCommentForm() {
    var commentForm = document.getElementById("comment-form");
    if (commentForm.style.display === "none") {
      commentForm.style.display = "block";
    } else {
      commentForm.style.display = "none";
    }
  }
</script>

</body>
</html>